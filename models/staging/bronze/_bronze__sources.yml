version: 2

sources:
  - name: bronze
    schema: BRONZE
    database: DEV_ALUMNO14_PROYECTO_FINAL

    quoting:
      database: false
      schema: false
      identifier: false

    tables:
      - name: circuits
        description: "Details of F1 circuits."
        columns:
          - name: circuitId
            description: "Unique ID for each circuit."
            tests:
              - unique
              - not_null
          - name: circuitRef
            description: "Reference name of the circuit."
            tests:
              - unique
              - not_null
          - name: name
            description: "Full name of the circuit."
            tests:
              - unique
              - not_null
          - name: location
            description: "Location of the circuit."
            tests:
              - not_null
          - name: country
            description: "Country where the circuit is located."
            tests:
              - not_null
          - name: lat
            description: "Latitude of the circuit."
            tests:
              - not_null
          - name: lng
            description: "Longitude of the circuit."
            tests:
              - not_null
          - name: alt
            description: "Altitude of the circuit."
            tests:
              - not_null
          - name: url
            description: "URL of the Wikipedia page for the circuit."

      - name: constructor_results
        description: "Results of constructors in races."
        columns:
          - name: constructorResultsId
            description: "Unique ID for constructor results."
            tests:
              - unique
              - not_null
          - name: raceId
            description: "ID of the race."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'races')
                  field: raceId
          - name: constructorId
            description: "ID of the constructor."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'constructors')
                  field: constructorId
          - name: points
            description: "Points scored by the constructor."
            tests:
              - not_null
              - positive_values
          - name: status
            description: "Status of the result."

      - name: constructor_standings
        description: "Constructor standings over races."
        columns:
          - name: constructorStandingsId
            description: "Unique ID for constructor standings."
            tests:
              - unique
              - not_null
          - name: raceId
            description: "ID of the race."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'races')
                  field: raceId
          - name: constructorId
            description: "ID of the constructor."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'constructors')
                  field: constructorId
          - name: points
            description: "Points accumulated by the constructor."
            tests:
              - not_null
              - positive_values
          - name: position
            description: "Position in standings."
            tests:
              - not_null
              - positive_values
          - name: positionText
            description: "Textual position in standings."
            tests:
              - not_null
          - name: wins
            description: "Number of wins."
            tests:
              - not_null
              - positive_values

      - name: constructors
        description: "Details of F1 constructors."
        columns:
          - name: constructorId
            description: "Unique ID for constructors."
            tests:
              - unique
              - not_null
          - name: constructorRef
            description: "Reference name of the constructor."
            tests:
              - unique
              - not_null
          - name: name
            description: "Complete name of the constructor."
            tests:
              - unique
              - not_null
          - name: nationality
            description: "Nationality of the constructor."
            tests:
              - not_null
          - name: url
            description: "URL of the Wikipedia page for the constructor."

      - name: driver_standings
        description: "Driver standings over races."
        columns:
          - name: driverStandingsId
            description: "Unique ID for driver standings."
            tests:
              - unique
              - not_null
          - name: raceId
            description: "ID of the race."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'races')
                  field: raceId
          - name: driverId
            description: "ID of the driver."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'drivers')
                  field: driverId
          - name: points
            description: "Points accumulated by the driver."
            tests:
              - not_null
              - positive_values
          - name: position
            description: "Position in standings."
            tests:
              - not_null
              - positive_values
          - name: positionText
            description: "Textual position in standings."
            tests:
              - not_null
          - name: wins
            description: "Number of wins."
            tests:
              - not_null
              - positive_values

      - name: drivers
        description: "Details of F1 drivers."
        columns:
          - name: driverId
            description: "Unique ID for drivers."
            tests:
              - unique
              - not_null
          - name: driverRef
            description: "Reference name for the driver."
            tests:
              - unique
              - not_null
          - name: number
            description: "Driver's racing number."
          - name: code
            description: "Driver's code."
          - name: forename
            description: "Driver's first name."
            tests:
              - not_null
          - name: surname
            description: "Driver's last name."
            tests:
              - not_null
          - name: dob
            description: "Date of birth of the driver."
          - name: nationality
            description: "Driver's nationality."
            tests:
              - not_null
          - name: url
            description: "URL of the Wikipedia page for the driver."

      - name: lap_times
        description: "Lap times of drivers in races."
        columns:
          - name: raceId
            description: "ID of the race."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'races')
                  field: raceId
          - name: driverId
            description: "ID of the driver."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'drivers')
                  field: driverId
          - name: lap
            description: "Lap number."
            tests:
              - not_null
              - positive_values
          - name: position
            description: "Position during the lap."
            tests:
              - not_null
              - positive_values
          - name: time
            description: "Lap time in string format."
            tests:
              - not_null
          - name: milliseconds
            description: "Lap time in milliseconds."
            tests:
              - not_null

      - name: pit_stops
        description: "Details of pit stops during races."
        columns:
          - name: raceId
            description: "ID of the race."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'races')
                  field: raceId
          - name: driverId
            description: "ID of the driver."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'drivers')
                  field: driverId
          - name: stop
            description: "Stop number."
            tests:
              - not_null
              - positive_values
          - name: lap
            description: "Lap number."
            tests:
              - not_null
              - positive_values
          - name: time
            description: "Time of the pit stop."
            tests:
              - not_null
          - name: duration
            description: "Duration of the pit stop."
            tests:
              - not_null
          - name: milliseconds
            description: "Duration in milliseconds."
            tests:
              - not_null
              - positive_values

      - name: qualifying
        description: "Qualifying session results."
        columns:
          - name: qualifyId
            description: "Unique ID for qualifying results."
            tests:
              - unique
              - not_null
          - name: raceId
            description: "ID of the race."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'races')
                  field: raceId
          - name: driverId
            description: "ID of the driver."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'drivers')
                  field: driverId
          - name: constructorId
            description: "ID of the constructor."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'constructors')
                  field: constructorId
          - name: number
            description: "Driver's car number."
            tests:
              - not_null
              - positive_values
          - name: position
            description: "Final position during the qualifying session."
            tests:
              - not_null
              - positive_values
          - name: q1
            description: "Qualifying lap time in Q1."
            tests:
              - not_null
          - name: q2
            description: "Qualifying lap time in Q2."
            tests:
              - not_null
          - name: q3
            description: "Qualifying lap time in Q3."
            tests:
              - not_null

      - name: races
        description: "Details of F1 races."
        columns:
          - name: raceId
            description: "Unique ID for each race."
            tests:
              - unique
              - not_null
          - name: year
            description: "Year of the race."
            tests:
              - not_null
              - positive_values
          - name: round
            description: "Race round in the championship."
            tests:
              - not_null
              - positive_values
          - name: circuitId
            description: "ID of the circuit."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'circuits')
                  field: circuitId
          - name: name
            description: "Name of the race."
            tests:
              - not_null
          - name: date
            description: "Date of the race."
            tests:
              - not_null
          - name: time
            description: "Start time of the race."
            tests:
              - not_null
          - name: url
            description: "Wikipedia URL for race details."
          - name: fp1_date
            description: "Date of the first practice session."
          - name: fp1_time
            description: "Time of the first practice session."
          - name: fp2_date
            description: "Date of the second practice session for the race."
          - name: fp2_time
            description: "Time of the second practice session for the race."
          - name: fp3_date
            description: "Date of the third practice session for the race."
          - name: fp3_time
            description: "Time of the third practice session for the race."
          - name: quali_date
            description: "Date of the qualifying session for the race."
          - name: quali_time
            description: "Time of the qualifying session for the race."
          - name: sprint_date
            description: "Date of the sprint session for the race."
          - name: sprint_time
            description: "Time of the sprint session for the race."
    
      - name: sprint_results
        description: "Sprint race results."
        columns:
          - name: resultId
            description: "Unique ID for sprint results."
            tests:
              - unique
              - not_null
          - name: raceId
            description: "ID of the race associated with this sprint result."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'races')
                  field: raceId
          - name: driverId
            description: "ID of the driver participating in the sprint."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'drivers')
                  field: driverId
          - name: constructorId
            description: "ID of the constructor for the driver's car."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'constructors')
                  field: constructorId
          - name: number
            description: "Car number of the driver."
            tests:
              - not_null
          - name: grid
            description: "Grid position where the driver started the sprint."
            tests:
              - not_null
          - name: position
            description: "Final position in the sprint."
            tests:
              - not_null
          - name: positionText
            description: "Textual representation of the final position."
            tests:
              - not_null
          - name: positionOrder
            description: "Order of the final position in numerical format."
            tests:
              - not_null
          - name: points
            description: "Points awarded to the driver in the sprint."
            tests:
              - not_null
          - name: laps
            description: "Number of laps completed by the driver in the sprint."
            tests:
              - not_null
          - name: time
            description: "Total time taken to complete the sprint."
          - name: milliseconds
            description: "Time in milliseconds for the sprint."
          - name: fastestLap
            description: "Number of the fastest lap completed by the driver."
          - name: fastestLapTime
            description: "Time of the fastest lap in the sprint."
          - name: statusId
            description: "ID of the status associated with the sprint result."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'status')
                  field: statusId

      - name: results
        description: "Race results."
        columns:
          - name: resultId
            description: "Unique ID for race results."
            tests:
              - not_null
          - name: raceId
            description: "ID of the race associated with this result."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'races')
                  field: raceId
          - name: driverId
            description: "ID of the driver in the race."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'drivers')
                  field: driverId
          - name: constructorId
            description: "ID of the constructor for the driver's car."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'constructors')
                  field: constructorId
          - name: number
            description: "Driver's car number."
            tests:
              - not_null
              -  positive_values
          - name: grid
            description: "Grid position where the driver started the race."
            tests:
              - not_null
              - positive_values
          - name: position
            description: "Final position in the race."
            tests:
              - not_null
          - name: positionText
            description: "Text description of the final position."
            tests:
              - not_null
          - name: positionOrder
            description: "Order of the final position in numerical format."
            tests:
              - not_null
              - positive_values
          - name: points
            description: "Points awarded to the driver in the race."
            tests:
              - not_null
              - positive_values
          - name: laps
            description: "Number of laps completed in the race."
            tests:
              - not_null
              - positive_values
          - name: time
            description: "Finish time of the driver."
          - name: milliseconds
            description: "Finish time in milliseconds."
          - name: fastestLap
            description: "Number of the fastest lap completed by the driver."
          - name: rank
            description: "Rank of the fastest lap."
          - name: fastestLapTime
            description: "Time of the fastest lap in the race."
          - name: fastestLapSpeed
            description: "Speed of the fastest lap in the race."
          - name: statusId
            description: "ID of the status associated with the result."
            tests:
              - not_null
              - relationships:
                  to: source('bronze', 'status')
                  field: statusId

      - name: status
        description: "Status descriptions for races."
        columns:
          - name: statusId
            description: "Unique ID for each status."
            tests:
              - unique
              - not_null
          - name: status
            description: "Text description of the status."
            tests:
              - unique

